# For Authentication
security:
  - JWT_admin: []

paths:
  /authenticate:
    post:
      summary: Return JWT token
      operationId: controllers.auth.generate_token
      tags:
        - authenticate
      security: []
      parameters:
        - name: admin
          in: query
          required: false
          type: boolean
          enum:
            - true
            - false
        - name: auth_payload
          in: body
          required: true
          schema:
            type: object
            properties:
              username:
                type: string
              password:
                type: string
      responses:
        200:
          description: OK

securityDefinitions:
  JWT_user:
    description: Authorization using JWT_user
    in: header
    name: Authorization_user
    type: apiKey
    x-apikeyInfoFunc: "controllers.auth.decode_token"
  JWT_admin:
    description: Authorization using JWT_admin
    in: header
    name: Authorization_admin
    type: apiKey
    x-apikeyInfoFunc: "controllers.auth.decode_admin_token"